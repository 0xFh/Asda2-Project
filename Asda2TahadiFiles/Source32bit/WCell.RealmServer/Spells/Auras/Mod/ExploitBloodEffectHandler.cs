using WCell.RealmServer.Entities;
using WCell.RealmServer.Misc;
using WCell.RealmServer.Spells.Auras.Misc;

namespace WCell.RealmServer.Spells.Auras.Mod
{
  public class ExploitBloodEffectHandler : AttackEventEffectHandler
  {
    public override void OnBeforeAttack(DamageAction action)
    {
    }

    public override void OnDefend(DamageAction action)
    {
      if(action.Spell == null)
        return;
      action.Attacker.Heal((int) (action.ActualDamage * 0.300000011920929), null,
        null);
      base.OnDefend(action);
    }
  }
}